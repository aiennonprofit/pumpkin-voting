<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pumpkin Carving Contest</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <div class="header-container">
            <div class="header-content">
                <h1 class="header-logo">ðŸŽƒ Pumpkin Contest</h1>
                <nav class="header-nav">
                    <button id="viewGalleryBtn" class="nav-btn active">Vote</button>
                    <button id="viewResultsBtn" class="nav-btn">Results</button>
                    <button id="viewSubmitBtn" class="nav-btn">Submit Entry</button>
                    <button id="adminDashboardBtn" class="nav-btn hidden">Admin</button>
                </nav>
                <div id="authStatus" class="auth-status">
                    <!-- Auth status will be displayed here -->
                    <button id="loginBtn" class="btn btn-secondary">Login</button>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-container">
            <div class="hero-content-wrapper">
                <div class="hero-text">
                    <h1 class="hero-title">Vote for Your Favorite Pumpkin ðŸŽƒ</h1>
                    <p class="hero-description">
                        Our team decorated pumpkins. Now we need you to pick a winner. Browse the entries,
                        cast your vote, and help us settle this very important debate.
                    </p>
                    <div class="hero-buttons">
                        <button id="heroCastVoteBtn" class="btn btn-primary btn-large">Cast My Vote</button>
                        <button id="heroBrowseBtn" class="btn btn-outline btn-large">Browse the Gallery</button>
                    </div>
                    <p class="hero-support-text">
                        One vote per person. Change your vote anytime. Winner announced November 1st, 2025.
                    </p>
                </div>
                <div class="hero-image">
                    <img src="Elijah Rising_pumpkin.png" alt="Pumpkin Contest Trophy" class="trophy-image">
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section class="about-section">
        <div class="about-container">
            <h2 class="about-heading">About</h2>
            <div class="about-grid">
                <div class="about-card">
                    <h3 class="about-card-title">Why we're doing this</h3>
                    <p class="about-card-text">
                        Because even people who do serious work need an excuse to compete over pumpkins.
                        Our staff serves women impacted by sexual exploitationâ€”it's meaningful work, but
                        it's also heavy. This is just a fun tradition that gives everyone a break and a
                        reason to get a little competitive.
                    </p>
                </div>
                <div class="about-card">
                    <h3 class="about-card-title">Our mission</h3>
                    <p class="about-card-text">
                        We exist to end sex trafficking through prayer, awareness, intervention, and restoration.
                    </p>
                    <div class="about-links">
                        <a href="https://elijahrising.org" target="_blank" class="about-link">Learn About Elijah Rising</a>
                        <a href="https://elijahrising.org/donate" target="_blank" class="about-link">Make a Donation</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <main>
        <!-- Submit Entry Section -->
        <section id="submitSection" class="section hidden">
            <div class="container">
                <h2>Submit Your Pumpkin</h2>
                <form id="pumpkinForm">
                    <div class="form-group">
                        <label for="pumpkinTitle">Pumpkin Title *</label>
                        <input type="text" id="pumpkinTitle" required placeholder="Give your pumpkin a creative name">
                    </div>

                    <div class="form-group">
                        <label for="pumpkinDescription">Description *</label>
                        <textarea id="pumpkinDescription" required placeholder="Tell us about your pumpkin creation..." rows="4"></textarea>
                    </div>

                    <div class="form-group">
                        <label for="carverName">Your Name *</label>
                        <input type="text" id="carverName" required placeholder="Your name">
                    </div>

                    <div class="form-group">
                        <label for="pumpkinImage">Pumpkin Photo *</label>
                        <input type="file" id="pumpkinImage" accept="image/*" required>
                        <div id="imagePreview" class="image-preview hidden">
                            <img id="previewImg" src="" alt="Preview">
                        </div>
                    </div>

                    <button type="submit" class="btn btn-primary">Submit Pumpkin</button>
                </form>
            </div>
        </section>

        <!-- Gallery/Voting Section -->
        <section id="gallerySection" class="section">
            <div class="container">
                <h2>Cast Your Vote!</h2>
                <p class="subtitle">Click on your favorite pumpkin to vote</p>
                <div id="pumpkinGallery" class="gallery">
                    <!-- Pumpkins will be dynamically added here -->
                </div>
                <div id="noEntries" class="no-entries hidden">
                    <p>No pumpkin entries yet. Be the first to submit!</p>
                </div>
            </div>
        </section>

        <!-- Results Section -->
        <section id="resultsSection" class="section hidden">
            <div class="container">
                <h2>Contest Results</h2>
                <div id="leaderboard" class="leaderboard">
                    <!-- Results will be dynamically added here -->
                </div>
                <div id="noResults" class="no-entries hidden">
                    <p>No votes cast yet!</p>
                </div>
            </div>
        </section>
    </main>

    <!-- Modal for voting confirmation -->
    <div id="voteModal" class="modal hidden">
        <div class="modal-content">
            <h3>Vote for this pumpkin?</h3>
            <p id="modalPumpkinTitle"></p>
            <div class="modal-buttons">
                <button id="confirmVoteBtn" class="btn btn-primary">Yes, Vote!</button>
                <button id="cancelVoteBtn" class="btn btn-secondary">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Authentication Modal -->
    <div id="authModal" class="modal hidden">
        <div class="modal-content auth-modal">
            <button id="closeAuthModal" class="close-modal">&times;</button>

            <div class="auth-tabs">
                <button id="loginTabBtn" class="auth-tab-btn active">Login</button>
                <button id="registerTabBtn" class="auth-tab-btn">Register</button>
            </div>

            <!-- Login Form -->
            <div id="loginForm" class="auth-form">
                <h3>Welcome Back!</h3>
                <form id="loginFormElement">
                    <div class="form-group">
                        <label for="loginEmail">Email</label>
                        <input type="email" id="loginEmail" required placeholder="your-email@example.com">
                    </div>
                    <div class="form-group">
                        <label for="loginPassword">Password</label>
                        <input type="password" id="loginPassword" required placeholder="Enter your password">
                    </div>
                    <div id="loginError" class="error-message hidden"></div>
                    <button type="submit" class="btn btn-primary btn-full">Login</button>
                </form>
            </div>

            <!-- Register Form -->
            <div id="registerForm" class="auth-form hidden">
                <h3>Create Account</h3>
                <form id="registerFormElement">
                    <div class="form-group">
                        <label for="registerName">Your Name</label>
                        <input type="text" id="registerName" required placeholder="John Doe">
                    </div>
                    <div class="form-group">
                        <label for="registerEmail">Email</label>
                        <input type="email" id="registerEmail" required placeholder="your-email@example.com">
                    </div>
                    <div class="form-group">
                        <label for="registerPassword">Password</label>
                        <input type="password" id="registerPassword" required placeholder="At least 8 characters">
                        <small>Minimum 8 characters</small>
                    </div>
                    <div class="form-group">
                        <label for="registerPasswordConfirm">Confirm Password</label>
                        <input type="password" id="registerPasswordConfirm" required placeholder="Re-enter password">
                    </div>
                    <div id="registerError" class="error-message hidden"></div>
                    <button type="submit" class="btn btn-primary btn-full">Create Account</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-firestore-compat.js"></script>

    <!-- Firebase Configuration -->
    <script src="firebase-config.js"></script>

    <!-- Authentication Module -->
    <script src="auth.js"></script>

    <!-- Firestore Service Module -->
    <script src="firestore.js"></script>

    <!-- Application Scripts -->
    <script src="script.js"></script>
</body>
</html>
